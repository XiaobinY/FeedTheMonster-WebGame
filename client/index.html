
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我爱学中文 - Interactive Learning</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Ma+Shan+Zheng&family=KaiTi&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body> 
    <header class="title-bar">
        <h1 id="main-title" class="text-4xl md:text-5xl lg:text-6xl">我爱学中文</h1>
        <button id="refresh-content-button" aria-label="Refresh content" title="Refresh words and sentences">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill-rule="evenodd" clip-rule="evenodd">
                <path d="M12 0c-3.315 0-6.292 1.352-8.485 3.546l-3.515-3.546v7h7l-2.852-2.888c1.651-1.497 3.798-2.378 6.049-2.378 4.418 0 7.997 3.581 7.997 7.999s-3.579 7.999-7.997 7.999c-3.036 0-5.707-1.704-7.041-4.273l-1.899 1.072c1.669 2.964 4.937 5.001 8.584 5.001 5.522 0 9.997-4.477 9.997-10s-4.475-10-9.997-10z"/>
            </svg>
        </button>
    </header>

    <div class="lesson-selector-trigger-container">
        <button id="lesson-selector-trigger" aria-haspopup="true" aria-expanded="false">
            <span id="current-lesson-name-display"></span>
            <span class="arrow-down">▼</span>
        </button>
    </div>

    <div id="mode-switcher-container">
        <button id="learn-mode-button" class="mode-button" aria-pressed="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M20 22H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1zm-1-2V4H5v16h14zM17 6H7v2h10V6zm-4 4H7v2h6v-2zm4 4H7v2h10v-2z"></path></svg>
            学习
        </button>
        <button id="play-mode-button" class="mode-button" aria-pressed="false">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M18.5 9.33A4.001 4.001 0 0 0 15 4H9a4 4 0 0 0-3.5 5.33L2 13v4l2 2h5v-2H5.71l1.5-1.5a5.98 5.98 0 0 1 4.79-.5a5.98 5.98 0 0 1 4.79.5l1.5 1.5H17v2h5l2-2v-4l-3.5-3.67zM9 6h6a2 2 0 0 1 2 2v1H7V8a2 2 0 0 1 2-2zm11 9.46L18.29 17H14a4 4 0 0 0-4-4a4 4 0 0 0-4 4H5.71L4 15.46V14l2.5-2.67A2.003 2.003 0 0 1 9 10h6a2 2 0 0 1 2.5 1.33L20 14v1.46zM12 15a1 1 0 1 1 0-2a1 1 0 0 1 0 2z"></path></svg>
            游戏
        </button>
    </div>

    <div id="popup-overlay" class="popup-overlay"></div>
    <div id="lesson-grid-popup" role="dialog" aria-modal="true" aria-labelledby="lesson-popup-title">
        <h3 id="lesson-popup-title" class="lesson-grid-popup-header">选择一个课程</h3>
        <div id="lesson-grid-popup-content" class="lesson-grid-popup-content">
            <!-- Content dynamically populated by JS -->
        </div>
    </div>

    <main class="container mx-auto p-4">
        <div id="learn-content">
            <section id="word-section" aria-labelledby="word-section-title" class="my-5">
                <h2 id="word-section-title" class="text-3xl md:text-4xl">认字</h2>
                <div id="word-grid" class="mt-5">
                    <!-- Content dynamically populated by JS -->
                </div>
            </section>

            <section id="sentence-section" aria-labelledby="sentence-section-title" class="my-5">
                <h2 id="sentence-section-title" class="text-3xl md:text-4xl">读句子</h2>
                <div id="sentence-list" class="mt-5">
                    <!-- Content dynamically populated by JS -->
                </div>
            </section>
        </div>

        <section id="mini-game-section" aria-labelledby="mini-game-title" class="my-5 hidden-view">
            <canvas id="gameCanvas"></canvas>
        </section>
    </main>
    
    <div id="page-refresh-overlay"></div> <!-- Overlay for refresh effect -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.js"></script>
    <script type="module" src="index.js"></script>

</body>
</html>